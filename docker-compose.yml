services:
  cowrie:
        image: rayson/cowrie:20160907-1
        build: cowrie
        user: cowrie
        ports:
            - "22:2222/tcp"
        volumes:
            - ./config/cowrie-config/cowrie.cfg:/opt/cowrie/cowrie.cfg:Z
            - cowrie-data:/opt/cowrie/data:Z
            - cowrie-log:/opt/cowrie/log:Z

    
  dionaea:
    image: dinotools/dionaea
    container_name: dionaea
    ports:
      - "21:21"
      - "23:23"
      - "8080:80"
      - "1135:135"
      - "8443:443"
      - "8445:445"
    volumes:
      - ./data/logs/dionaea:/opt/dionaea/var/dionaea
    restart: unless-stopped
    
  flask-fake-login:
    build:
      context: ./honeypots/flask-fake-login
    container_name: flask-fake-login
    ports:
      - "5000:5000"
    volumes:
      - ./data/logs/flask-fake-login:/app/logs
    restart: unless-stopped
    environment:
      - FLASK_ENV=production

volumes:
    cowrie-data: ./data/logs/cowrie/cowrie.json
    cowrie-log: ./data/logs/cowrie/cowrie.log